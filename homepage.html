<!DOCTYPE html>
<html lang="en" style="font-size: 50px; --vc-root-font-size: 4vw;">

<head>
    <title>SCF Loan Home Page</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover, user-scalable=no">
    
    <!-- 基础样式加载 -->
    <link rel="stylesheet" href="css/4fa41296f441b9ff.css" data-precedence="next">
    <link rel="stylesheet" href="css/57009e3cabd11cec.css" data-precedence="next">
    <link rel="stylesheet" href="css/515e7d1e6af67b7d.css" data-precedence="next">
    <link href="css/25ac677f9c398dbc.css" rel="stylesheet" data-precedence="next">
    <link href="css/d995d26fbbce5344.css" rel="stylesheet" data-precedence="next">
    <link rel="stylesheet" href="css/5bedc7f7816ee268.css" data-precedence="next">
    <link rel="stylesheet" href="css/e90826e2f4f45792.css" data-precedence="next">
    <link rel="stylesheet" href="css/d03a5407f04b9e1e.css" data-precedence="next">
    <link rel="preload" href="css/5bedc7f7816ee268.css" as="style">
    <link rel="preload" href="css/d03a5407f04b9e1e.css" as="style">
    <link rel="preload" href="css/e90826e2f4f45792.css" as="style">
    <link rel="preload" href="images/card_mask_seller.3e06a5dd.svg" as="image" fetchpriority="high">
    
    <style type="text/css" id="react-draggable-style-el">
        .react-draggable-transparent-selection *::-moz-selection {
            all: inherit;
        }

        .react-draggable-transparent-selection *::selection {
            all: inherit;
        }
    </style>
    
    <!-- 状态栏和导航样式 -->
    <style>
        /* 状态栏样式 */
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #ee4d2d;
            color: #e0e0e0;
            padding: 0.1rem 0.3rem;
            font-size: 0.28rem;
            position: relative;
        }
        
        .status-left, .status-right {
            display: flex;
            align-items: center;
            z-index: 1;
            width: 33.33%;
        }
        
        .status-right {
            justify-content: flex-end;
        }
        
        .status-time {
            position: absolute;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 0;
        }
        
        .wifi-icon, .battery-icon {
            width: 0.36rem;
            height: 0.36rem;
            filter: brightness(0.8);
        }
        
        .battery-level {
            margin-left: 0.1rem;
        }
        
        /* 导航栏样式 */
        .nav-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.3rem 0.5rem;
            background-color: #ee4d2d;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-left {
            display: flex;
            align-items: center;
        }
        
        .back-button {
            font-size: 0.4rem;
            margin-right: 0.4rem;
            cursor: pointer;
            border: none;
            background: none;
            color: white;
        }
        
        .page-title {
            font-size: 0.32rem;
            color: white;
        }
        
        .nav-right {
            display: flex;
            align-items: center;
        }
        
        .icon {
            width: 0.44rem;
            height: 0.44rem;
            margin-left: 0.5rem;
            cursor: pointer;
            filter: invert(1);
            transition: transform 0.2s ease-in-out;
        }
        
        .icon:hover {
            transform: scale(1.1);
        }

        /* Combined container for status bar and nav bar */
        .header-container {
            background-color: #ee4d2d;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        /* Ensure the page wrapper has proper width */
        .page_wrapper__S2D2l {
            width: 100%;
            max-width: 100%;
            overflow-x: hidden;
        }
        
        /* Ensure banner wrapper has proper width */
        .Banner_wrapper__laxoh {
            width: 100%;
            padding: 0;
            margin: 0;
            overflow: visible;
        }
        
        /* Card mask styles to make it stretch to screen edges */
        .Banner_cardMask__4EEYJ {
            width: 100vw !important; /* Use viewport width to ensure it stretches edge to edge */
            max-width: none !important;
            height: auto !important;
            object-fit: cover;
            position: absolute;
            left: 50%;
            transform: translateX(-50%); /* Center the image */
            display: block;
            /* Maintain aspect ratio similar to original (375:186) */
            aspect-ratio: 2/1;
            /* Make sure it's wider than the screen */
            min-width: 100vw;
        }
        
        /* Make sure the card container is positioned relatively */
        .Banner_card__X6oK6 {
            position: relative;
            width: 100%;
            overflow: visible;
            padding: 0;
            margin: 0;
            /* Set a min-height to ensure content has room */
            min-height: 3.7rem; /* Equivalent to 186px at 50px base font size */
        }
        
        /* Ensure the content box remains properly positioned */
        .Banner_box__H0bqq {
            position: relative;
            z-index: 1;
            padding: 0.5rem 0.7rem;
        }
    </style>
    
    <!-- 内联翻译数据 -->
    <script>
    // 直接内联翻译数据，不依赖外部JS
    const translations = {
        "en": {
            "easypay_for_sellers": "SEasyPay for Sellers",
            "available_credit_limit": "Available Credit Limit",
            "you_can_pay": "You can pay within available credit.",
            "use_now": "Use Now",
            "total_credit_limit": "Total Credit Limit",
            "outstanding_loans": "Outstanding Loans",
            "loan_amount": "Loan amount:",
            "due_on": "due on",
            "paid": "Paid"
        },
        "th": {
            "easypay_for_sellers": "SEasyPay สำหรับผู้ขาย",
            "available_credit_limit": "วงเงินสินเชื่อที่ใช้ได้",
            "you_can_pay": "คุณสามารถชำระเงินภายในวงเงินที่มีอยู่",
            "use_now": "ใช้ตอนนี้",
            "total_credit_limit": "วงเงินสินเชื่อทั้งหมด",
            "outstanding_loans": "เงินกู้คงค้าง",
            "loan_amount": "จำนวนเงินกู้:",
            "due_on": "ครบกำหนดเมื่อ",
            "paid": "ชำระแล้ว"
        }
    };
    
    // 获取当前语言，默认为英语
    function getCurrentLanguage() {
        const savedLang = localStorage.getItem('selectedLanguage');
        return (savedLang === 'en' || savedLang === 'th') ? savedLang : 'en';
    }
    
    // 简单的翻译函数
    function translate(key) {
        const lang = getCurrentLanguage();
        return translations[lang] && translations[lang][key] ? translations[lang][key] : key;
    }
    
    // 设置语言
    function setLanguage() {
        const lang = getCurrentLanguage();
        document.documentElement.lang = lang;
        
        // 翻译所有带data-lang属性的元素
        const elements = document.querySelectorAll('[data-lang]');
        elements.forEach(el => {
            const key = el.getAttribute('data-lang');
            if (key) {
                el.textContent = translate(key);
            }
        });
    }
    
    // 初始化语言
    document.addEventListener('DOMContentLoaded', function() {
        setLanguage();
        
        // 更新时间
        updateTime();
        setInterval(updateTime, 60000);
        
        // 设置后退按钮
        const backButton = document.querySelector('.back-button');
        if (backButton) {
            backButton.addEventListener('click', function() {
                window.history.back();
            });
        }
        
        // 初始化页面数据
        initializePage();
    });
    
    // 更新时间显示
    function updateTime() {
        const now = new Date();
        const timeString = now.toLocaleTimeString('en-US', { 
            hour: 'numeric', 
            minute: '2-digit',
            hour12: false 
        });
        const timeElement = document.querySelector('.status-time');
        if (timeElement) {
            timeElement.textContent = timeString;
        }
    }
    
    // 初始化页面数据函数
    function initializePage() {
        // 获取URL参数
        const urlParams = new URLSearchParams(window.location.search);
        
        // 默认值设置
        const defaultDate = new Date();
        const defaultTime = document.querySelector('.status-time')?.textContent || '14:25';
        const defaultFormattedDate = defaultDate.toLocaleDateString('en-GB', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric'
        }).replace(/\//g, '-');
        
        // 计算一个月后的日期作为默认到期日
        const defaultDueDate = (() => {
            const date = new Date(defaultDate);
            date.setMonth(date.getMonth() + 1);
            return date.toLocaleDateString('en-GB', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            }).replace(/\//g, '-');
        })();
        
        // 格式化金额显示的函数
        const formatCurrency = (number) => {
            return number.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        };
        
        // 常量
        const TOTAL_CREDIT_LIMIT = 5000.00;
        const DEFAULT_LOAN_AMOUNT = 300.00;
        const INSTALMENT_FEE = 45.00;
        
        // 从URL参数获取值或使用默认值
        const totalPayment = parseFloat(urlParams.get('totalPayment')) || DEFAULT_LOAN_AMOUNT;
        const dueDate = urlParams.get('dueDate') || defaultDueDate;
        const repayAmount = parseFloat(urlParams.get('repayAmount')) || (totalPayment + INSTALMENT_FEE);
        
        try {
            // 更新贷款金额和到期日显示
            const loanAmountTitle = document.querySelector('.adm-list-item-title');
            if (loanAmountTitle) {
                const loanAmountText = translate('loan_amount');
                loanAmountTitle.innerHTML = `<span data-lang="loan_amount">${loanAmountText}</span> ฿ ${formatCurrency(totalPayment)}`;
            }
            
            const loanDueDate = document.querySelector('.adm-list-item-description');
            if (loanDueDate) {
                const dueOnText = translate('due_on');
                loanDueDate.innerHTML = `฿ ${formatCurrency(repayAmount)} <span data-lang="due_on">${dueOnText}</span> ${dueDate}`;
            }

            // 添加贷款项点击处理
            const loanItem = document.querySelector('.adm-list-item.adm-plain-anchor');
            if (loanItem) {
                loanItem.style.cursor = 'pointer';
                loanItem.addEventListener('click', function() {
                    // 确保使用页面上显示的金额而不是重新计算
                    // 从描述文本中提取实际显示的还款金额
                    const descriptionElement = document.querySelector('.adm-list-item-description');
                    let extractedRepayAmount = repayAmount; // 默认值
                    
                    if (descriptionElement) {
                        const descriptionText = descriptionElement.textContent;
                        // 提取金额部分 (从฿后面提取数字)
                        const match = descriptionText.match(/฿\s*([\d,]+\.?\d*)/);
                        if (match && match[1]) {
                            // 移除逗号并转换为数字
                            extractedRepayAmount = parseFloat(match[1].replace(/,/g, ''));
                        }
                    }
                    
                    // 构建URL参数
                    const params = new URLSearchParams({
                        loanAmount: totalPayment.toFixed(2),
                        repayAmount: extractedRepayAmount.toFixed(2), // 使用提取出的还款金额
                        dueDate: dueDate,
                        appliedTime: urlParams.get('appliedTime') || defaultFormattedDate
                    });
                    
                    // 跳转到还款页面
                    window.location.href = `repayPage.html?${params.toString()}`;
                });
            }

            // 计算并更新可用信用额度
            const availableCreditLimit = TOTAL_CREDIT_LIMIT - totalPayment;
            
            // 更新可用信用额度显示
            const availableAmountElement = document.querySelector('.Banner_availableAmount__X6GaB');
            if (availableAmountElement) {
                availableAmountElement.innerHTML = `<span class="Banner_symbol__hW40M">฿</span> ${formatCurrency(availableCreditLimit)}`;
            }

            // 更新总信用额度显示
            const totalLimitElement = document.querySelector('.Banner_left__yEoOH');
            if (totalLimitElement) {
                const totalCreditLimitText = translate('total_credit_limit');
                totalLimitElement.innerHTML = `<span data-lang="total_credit_limit">${totalCreditLimitText}</span> ฿ ${formatCurrency(TOTAL_CREDIT_LIMIT)}`;
            }

            console.log("Homepage initialized successfully");
        } catch (error) {
            console.error("Error during page initialization:", error);
        }
    }
    
    // 滚动处理
    document.addEventListener('scroll', function(e) {
        if (window.scrollY < 0) {
            window.scrollTo(0, 0);
        }
        
        // 滚动时添加阴影效果
        const header = document.querySelector('.header-container');
        if (header) {
            if (window.scrollY > 0) {
                header.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';
            } else {
                header.style.boxShadow = 'none';
            }
        }
    }, { passive: false });
    </script>
</head>

<body>
    <!-- 主页内容 -->
    <div class="header-container">
        <!-- 状态栏 -->
        <div class="status-bar">
            <div class="status-left">
                <img src="images/wifi-red.svg" class="wifi-icon" alt="WiFi">
            </div>
            <div class="status-time">14:25</div>
            <div class="status-right">
                <img src="images/battery-red.svg" class="battery-icon" alt="Battery">
                <span class="battery-level">85%</span>
            </div>
        </div>

        <!-- 导航栏 -->
        <div class="nav-bar">
            <div class="nav-left">
                <button class="back-button">←</button>
                <div class="page-title" data-lang="easypay_for_sellers">SEasyPay for Sellers</div>
            </div>
            <div class="nav-right">
                <img src="images/clock.svg" alt="Clock" class="icon">
                <img src="images/settings.svg" alt="Settings" class="icon" onclick="window.location.href='index.html'">
            </div>
        </div>
    </div>
    
    <div class="page_wrapper__S2D2l">
        <div class="Banner_wrapper__laxoh">
            <div class="Banner_card__X6oK6"><img alt="card_mask" fetchpriority="high" 
                    decoding="async" data-nimg="1" class="Banner_cardMask__4EEYJ"
                    srcset="images/card_mask_seller.3e06a5dd.svg 1x, images/card_mask_seller.3e06a5dd.svg 2x"
                    src="images/card_mask_seller.3e06a5dd.svg"
                    style="color: transparent;">
                <div class="Banner_box__H0bqq">
                    <div class="Banner_title__SaZjV" data-lang="available_credit_limit">Available Credit Limit</div>
                    <section>
                        <div class="Banner_availableAmount__X6GaB"><span
                                class="Banner_symbol__hW40M">฿</span> 4,700.00</div>
                        <div class="Banner_totalLimitDesc__MCRCx"><span data-lang="you_can_pay">You can pay within available credit.</span>
                        </div>
                    </section>
                    <div class="Banner_btnWrapper__Qo6zc"><a href="/loan/apply"><button type="button"
                                class="adm-button adm-button-default adm-button-fill-outline adm-button-shape-default Banner_withdrawBtn__aoTp8"><span data-lang="use_now">Use Now</span></button></a></div>
                    <div class="Banner_initTempLimitEntry__gQNB6">
                        <div class="Banner_left__yEoOH"><span data-lang="total_credit_limit">Total Credit Limit</span> ฿ 5,000.00</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="page_promotionBannerWrapper__ySenj credit-promotion-sdk-banner-swipe mobile-layout"
            style="display: none; visibility: visible;">
            <div class="credit-promotion-sdk-banner-swipe-wrapper" style="width: 0px;"></div>
        </div>
        <div class="adm-list adm-list-default CurrentLoans_currentLoans__eZmvY CurrentLoans_list__MhuyZ">
            <div class="adm-list-body">
                <div class="adm-list-body-inner">
                    <div class="adm-list-item">
                        <div class="adm-list-item-content">
                            <div class="adm-list-item-content-prefix"><img alt="" loading="lazy" width="20" height="20"
                                    decoding="async" data-nimg="1" class="CurrentLoans_icon__8DTb2"
                                    srcset="images/upcoming.357105d5.svg 1x, images/upcoming.357105d5.svg 2x"
                                    src="images/upcoming.357105d5.svg"
                                    style="color: transparent;"></div>
                            <div class="adm-list-item-content-main" data-lang="outstanding_loans">Outstanding Loans</div>
                        </div>
                    </div><a class="adm-list-item adm-plain-anchor">
                        <div class="adm-list-item-content">
                            <div class="adm-list-item-content-main">
                                <div class="adm-list-item-title"><span data-lang="loan_amount">Loan amount:</span> ฿ 300.00</div>
                                <div class="adm-list-item-description">฿ 345.00 <span data-lang="due_on">due on</span> 19-04-2024</div>
                            </div>
                            <div class="adm-list-item-content-extra">
                                <div class="CurrentLoans_extraArea__Bz1ks">
                                    <div>0/1 <span data-lang="paid">Paid</span></div>
                                </div>
                            </div>
                            <div class="adm-list-item-content-arrow"><svg width="1em" height="1em" viewBox="0 0 48 48"
                                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                    class="antd-mobile-icon" style="vertical-align: -0.125em;">
                                    <g id="RightOutline-RightOutline" stroke="none" stroke-width="1" fill="none"
                                        fill-rule="evenodd">
                                        <g id="RightOutline-RightOutlined">
                                            <rect id="RightOutline-矩形" fill="#FFFFFF" opacity="0" x="0" y="0" width="48"
                                                height="48"></rect>
                                            <path
                                                d="M17.3947957,5.11219264 L35.5767382,22.6612572 L35.5767382,22.6612572 C36.1304785,23.2125856 36.1630514,24.0863155 35.6744571,24.6755735 L35.5767382,24.7825775 L17.3956061,42.8834676 C17.320643,42.9580998 17.2191697,43 17.1133896,43 L13.9866673,43 C13.7657534,43 13.5866673,42.8209139 13.5866673,42.6 C13.5866673,42.4936115 13.6290496,42.391606 13.7044413,42.316542 L32.3201933,23.7816937 L32.3201933,23.7816937 L13.7237117,5.6866816 C13.5653818,5.53262122 13.5619207,5.27937888 13.7159811,5.121049 C13.7912854,5.04365775 13.8946805,5 14.0026627,5 L17.1170064,5 C17.2206403,5 17.3202292,5.04022164 17.3947957,5.11219264 Z"
                                                id="RightOutline-right" fill="currentColor" fill-rule="nonzero"></path>
                                        </g>
                                    </g>
                                </svg></div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <div class="page_promotionBannerWrapper__ySenj credit-promotion-sdk-banner-swipe mobile-layout"
            style="display: none; visibility: visible;">
            <div class="credit-promotion-sdk-banner-swipe-wrapper" style="width: 0px;"></div>
        </div>
    </div>
    <link rel="preload" as="style"
        href="css/d995d26fbbce5344.css">
    <link rel="preload" as="image"
        imagesrcset="images/card_mask_seller.3e06a5dd.svg 1x, images/card_mask_seller.3e06a5dd.svg 2x"
        fetchpriority="high">
</body>
</html>